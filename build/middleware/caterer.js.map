{"version":3,"sources":["../../server/src/middleware/caterer.js"],"names":["CatererMiddleware","req","res","next","schema","name","Joi","string","required","email","password","min","validate","body","status","json","message","String","details","type","UserMiddleware"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;IAEMA,iB;;;;;;;;;;;;;;;;+CAC4BC,G,EAAKC,G,EAAKC,I;;;;;;;AAE1BC,gBAAAA,M,GAAS;AACXC,kBAAAA,IAAI,EAAEC,aAAIC,MAAJ,GAAaC,QAAb,EADK;AAEXC,kBAAAA,KAAK,EAAEH,aAAIC,MAAJ,GACFE,KADE,GAEFD,QAFE,EAFI;AAKXE,kBAAAA,QAAQ,EAAEJ,aAAIC,MAAJ,GACLI,GADK,CACD,CADC,EAELH,QAFK;AALC,iB;;uBASTF,aAAIM,QAAJ,CAAaX,GAAG,CAACY,IAAjB,EAAuBT,MAAvB,C;;;AACND,gBAAAA,IAAI;iDACG,I;;;;;iDAEAD,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACxBD,kBAAAA,MAAM,EAAE,OADgB;AAExBE,kBAAAA,OAAO,EAAEC,MAAM,CAAC,YAAIC,OAAJ,CAAY,CAAZ,EAAeF,OAAhB,CAFS;AAGxBG,kBAAAA,IAAI,EAAE;AAHkB,iBAArB,C;;;;;;;;;;;;;;;;;;;EAhBaC,a;;eAyBjBpB,iB","sourcesContent":["import Joi from 'joi';\r\nimport UserMiddleware from './user';\r\n\r\nclass CatererMiddleware extends UserMiddleware {\r\n    static async validateRegister(req, res, next) {\r\n        try {\r\n            const schema = {\r\n                name: Joi.string().required(),\r\n                email: Joi.string()\r\n                    .email()\r\n                    .required(),\r\n                password: Joi.string()\r\n                    .min(7)\r\n                    .required()\r\n            };\r\n            await Joi.validate(req.body, schema);\r\n            next();\r\n            return true;\r\n        } catch (err) {\r\n            return res.status(400).json({\r\n                status: 'error',\r\n                message: String(err.details[0].message),\r\n                type: 'validation'\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nexport default CatererMiddleware;\r\n"],"file":"caterer.js"}